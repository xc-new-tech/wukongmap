# ğŸµ WukongMapï¼ˆæ‚Ÿç©ºå›¾ï¼‰

> åŸºäº AI çš„çŸ¥è¯†ç‚¹å›¾è§£å¹³å° - ä¸ºä¸­å­¦ç”Ÿæ‰“é€ çš„æ™ºèƒ½å­¦ä¹ å·¥å…·

![Next.js](https://img.shields.io/badge/Next.js-15.5-black?style=flat-square&logo=next.js)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?style=flat-square&logo=typescript)
![Tailwind CSS](https://img.shields.io/badge/Tailwind-4.0-38B2AC?style=flat-square&logo=tailwind-css)
![Supabase](https://img.shields.io/badge/Supabase-PostgreSQL-3ECF8E?style=flat-square&logo=supabase)

## ğŸ“– é¡¹ç›®ç®€ä»‹

WukongMap æ˜¯ä¸€ä¸ªåˆ›æ–°çš„æ•™è‚²ç§‘æŠ€é¡¹ç›®ï¼Œåˆ©ç”¨ Google Gemini AI æŠ€æœ¯ä¸ºä¸­å­¦ç”Ÿç”Ÿæˆå›¾æ–‡å¹¶èŒ‚çš„çŸ¥è¯†å¡ç‰‡ã€‚åªéœ€è¾“å…¥çŸ¥è¯†ç‚¹ä¸»é¢˜ï¼ŒAI å°±èƒ½è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–çš„å†…å®¹å’Œç²¾ç¾çš„é…å›¾ï¼Œå¸®åŠ©å­¦ç”Ÿæ›´å¥½åœ°ç†è§£å’Œè®°å¿†çŸ¥è¯†ç‚¹ã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ¤– **AI æ™ºèƒ½ç”Ÿæˆ**ï¼šä½¿ç”¨ Gemini 3 Pro ç”Ÿæˆç»“æ„åŒ–çŸ¥è¯†å†…å®¹
- ğŸ¨ **æ™ºèƒ½é…å›¾**ï¼šä½¿ç”¨ Imagen 3 ç”Ÿæˆæ•™è‚²é£æ ¼æ’å›¾ï¼Œæ”¯æŒè‡ªå®šä¹‰æç¤ºè¯
- ğŸ“š **å­¦ç§‘è¯†åˆ«**ï¼šæ ¹æ®çŸ¥è¯†ç‚¹è‡ªåŠ¨åŒ¹é…å¯¹åº”å­¦ç§‘ï¼ˆæ”¯æŒ 10+ å­¦ç§‘ï¼‰
- ğŸ’¾ **å¡ç‰‡ç®¡ç†**ï¼šä¿å­˜ã€æŸ¥çœ‹ã€æœç´¢ã€åˆ é™¤çŸ¥è¯†å¡ç‰‡
- ğŸ” **ç”¨æˆ·ç³»ç»Ÿ**ï¼šæ³¨å†Œç™»å½•ã€ç”¨é‡ç»Ÿè®¡ï¼ˆæ¯æ—¥ 10 æ¬¡å…è´¹é¢åº¦ï¼‰
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- ğŸ§  **æ™ºèƒ½ä½“éªŒ**ï¼šå¹´çº§è®°å¿†ã€å­¦ç§‘è‡ªåŠ¨è¯†åˆ«

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Next.js 15** - React æ¡†æ¶ï¼ˆApp Routerï¼‰
- **React 19** - UI æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Tailwind CSS v4** - æ ·å¼æ¡†æ¶
- **shadcn/ui** - UI ç»„ä»¶åº“

### åç«¯
- **Next.js API Routes** - RESTful API
- **Supabase PostgreSQL** - æ•°æ®åº“
- **NextAuth.js v4** - ç”¨æˆ·è®¤è¯

### AI æœåŠ¡
- **OpenRouter API** - AI æ¨¡å‹ä»£ç†
- **Google Gemini 3 Pro** - æ–‡æœ¬å†…å®¹ç”Ÿæˆ
- **Google Imagen 3** - å›¾ç‰‡ç”Ÿæˆ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 20+
- Supabase è´¦å·ï¼ˆå…è´¹ï¼‰
- OpenRouter API Keyï¼ˆç”¨äºè®¿é—® Geminiï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

\`\`\`bash
git clone https://github.com/ä½ çš„ç”¨æˆ·å/wukongmap.git
cd wukongmap
\`\`\`

2. **å®‰è£…ä¾èµ–**

\`\`\`bash
npm install
\`\`\`

3. **é…ç½®ç¯å¢ƒå˜é‡**

å¤åˆ¶ \`.env.example\` ä¸º \`.env.local\`ï¼š

\`\`\`bash
cp .env.example .env.local
\`\`\`

å¡«å…¥ä»¥ä¸‹é…ç½®ï¼š

- **Supabase**ï¼šåœ¨ [supabase.com](https://supabase.com) åˆ›å»ºé¡¹ç›®è·å– URL å’Œ Anon Key
- **OpenRouter API**ï¼šåœ¨ [openrouter.ai](https://openrouter.ai) è·å– API Key
- **NextAuth Secret**ï¼šè¿è¡Œ \`openssl rand -base64 32\` ç”Ÿæˆ

4. **é…ç½®æ•°æ®åº“**

åœ¨ Supabase Dashboard â†’ SQL Editor ä¸­æ‰§è¡Œï¼š

1. å…ˆæ‰§è¡Œ \`supabase-schema-dev.sql\` - åˆ›å»ºè¡¨ç»“æ„
2. å†æ‰§è¡Œ \`supabase-update-image-field.sql\` - æ›´æ–°å­—æ®µç±»å‹

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

\`\`\`bash
npm run dev
\`\`\`

è®¿é—® [http://localhost:3001](http://localhost:3001)

## ğŸ“¦ é¡¹ç›®ç»“æ„

\`\`\`
wukongmap/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth/         # è®¤è¯ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ ai/           # AI ç”Ÿæˆ API
â”‚   â”‚   â”œâ”€â”€ cards/        # å¡ç‰‡ç®¡ç† API
â”‚   â”‚   â””â”€â”€ usage/        # ç”¨é‡ç»Ÿè®¡ API
â”‚   â”œâ”€â”€ (auth)/           # è®¤è¯ç›¸å…³é¡µé¢
â”‚   â””â”€â”€ cards/            # å¡ç‰‡ç›¸å…³é¡µé¢
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”œâ”€â”€ cards/            # å¡ç‰‡ç»„ä»¶
â”‚   â””â”€â”€ ui/               # UI ç»„ä»¶
â”œâ”€â”€ lib/                   # å·¥å…·åº“
â”‚   â”œâ”€â”€ ai/               # AI ç›¸å…³å·¥å…·
â”‚   â””â”€â”€ db/               # æ•°æ®åº“é…ç½®
â”œâ”€â”€ types/                 # TypeScript ç±»å‹å®šä¹‰
â””â”€â”€ public/               # é™æ€èµ„æº
\`\`\`

## ğŸ—„ï¸ æ•°æ®åº“ç»“æ„

### users è¡¨
- ç”¨æˆ·ä¿¡æ¯ã€å¯†ç ï¼ˆåŠ å¯†ï¼‰ã€å¤´åƒ
- ç”¨é‡ç»Ÿè®¡ï¼ˆusage_countï¼‰

### cards è¡¨
- çŸ¥è¯†å¡ç‰‡å†…å®¹ã€æ ‡é¢˜ã€å›¾ç‰‡ URL
- æ ‡ç­¾ï¼ˆtagsï¼‰ã€æµè§ˆæ¬¡æ•°ï¼ˆview_countï¼‰
- å…¬å¼€çŠ¶æ€ï¼ˆis_publicï¼‰

### collections è¡¨
- æ”¶è—å¤¹åŠŸèƒ½ï¼ˆå¾…å®ç°ï¼‰

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½è¯¦è§£

### 1. æ™ºèƒ½å­¦ç§‘è¯†åˆ«

ç³»ç»Ÿä¼šæ ¹æ®çŸ¥è¯†ç‚¹å…³é”®è¯è‡ªåŠ¨è¯†åˆ«å­¦ç§‘ï¼š

| å­¦ç§‘ | å…³é”®è¯ç¤ºä¾‹ |
|------|-----------|
| æ•°å­¦ | æ–¹ç¨‹ã€å‡½æ•°ã€å‡ ä½•ã€å‹¾è‚¡å®šç† |
| ç‰©ç† | åŠ›ã€é€Ÿåº¦ã€ç‰›é¡¿å®šå¾‹ã€ç”µç£ |
| åŒ–å­¦ | å…ƒç´ ã€ååº”ã€åŒ–å­¦å¼ |
| ç”Ÿç‰© | ç»†èƒã€DNAã€å…‰åˆä½œç”¨ |
| è‹±è¯­ | è¯­æ³•ã€æ—¶æ€ã€è¯æ±‡ |
| è¯­æ–‡ | è¯—æ­Œã€æ•£æ–‡ã€å¤æ–‡ |
| å†å² | æœä»£ã€æˆ˜äº‰ã€é©å‘½ |
| åœ°ç† | åœ°å½¢ã€æ°”å€™ã€æ²³æµ |
| æ”¿æ²» | æ³•å¾‹ã€å®ªæ³•ã€æƒåˆ© |

### 2. è‡ªå®šä¹‰å›¾ç‰‡ç”Ÿæˆ

- **é»˜è®¤æç¤ºè¯**ï¼šç™½æ¿æ¿ä¹¦é£æ ¼çš„æ•™å­¦å›¾ç‰‡
- **è‡ªåŠ¨æ›¿æ¢**ï¼šå°† `[å†…å®¹]` æ›¿æ¢ä¸ºå®é™…çš„çŸ¥è¯†ç‚¹ä¸»é¢˜
- **å®Œå…¨è‡ªå®šä¹‰**ï¼šç”¨æˆ·å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹æç¤ºè¯
- **æ¢å¤é»˜è®¤**ï¼šä¸€é”®æ¢å¤é»˜è®¤æç¤ºè¯

### 3. ç”¨æˆ·ä½“éªŒä¼˜åŒ–

- **å¹´çº§è®°å¿†**ï¼šä½¿ç”¨ localStorage è®°ä½ä¸Šæ¬¡é€‰æ‹©çš„å¹´çº§
- **å­¦ç§‘è‡ªåŠ¨è¯†åˆ«**ï¼šæ ¹æ®ä¸»é¢˜è‡ªåŠ¨é€‰æ‹©å­¦ç§‘ï¼ˆå¯æ‰‹åŠ¨ä¿®æ”¹ï¼‰
- **æœªç™»å½•å¼•å¯¼**ï¼šæœªç™»å½•ç”¨æˆ·çœ‹åˆ°å¼•å¯¼ç™»å½•ç•Œé¢
- **ç”¨é‡æç¤º**ï¼šå®æ—¶æ˜¾ç¤ºå‰©ä½™ç”Ÿæˆæ¬¡æ•°

## ğŸ“ å¼€å‘æ—¥å¿—

### v2.0 (2024-11-25)
- âœ… ä» MongoDB å®Œå…¨è¿ç§»åˆ° Supabase PostgreSQL
- âœ… ä¼˜åŒ–æ•°æ®åº“è¡¨ç»“æ„ï¼ˆsnake_case å‘½åï¼‰
- âœ… ä¿®å¤æ‰€æœ‰ Next.js 15 å…¼å®¹æ€§é—®é¢˜
- âœ… æ·»åŠ è‡ªå®šä¹‰å›¾ç‰‡æç¤ºè¯åŠŸèƒ½
- âœ… å®ç°æ™ºèƒ½å­¦ç§‘è¯†åˆ«ï¼ˆ10+ å­¦ç§‘ï¼‰
- âœ… æ·»åŠ å¹´çº§è®°å¿†åŠŸèƒ½
- âœ… ä¿®å¤ SSR hydration é—®é¢˜

### v1.0 (2024-11-24)
- âœ… å®ŒæˆåŸºç¡€åŠŸèƒ½å¼€å‘
- âœ… é›†æˆ AI æ–‡æœ¬å’Œå›¾ç‰‡ç”Ÿæˆ
- âœ… å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- âœ… å®ç°å¡ç‰‡ç®¡ç†åŠŸèƒ½

## ğŸš€ éƒ¨ç½²æŒ‡å—

### Vercel éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. **æ¨é€ä»£ç åˆ° GitHub**

2. **åœ¨ Vercel å¯¼å…¥é¡¹ç›®**
   - è®¿é—® [vercel.com](https://vercel.com)
   - ç‚¹å‡» "Import Project"
   - é€‰æ‹©ä½ çš„ GitHub ä»“åº“

3. **é…ç½®ç¯å¢ƒå˜é‡**

   åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ æ‰€æœ‰ \`.env.example\` ä¸­çš„å˜é‡ï¼š
   - \`NEXT_PUBLIC_APP_URL\` â†’ ä½ çš„ Vercel åŸŸå
   - \`NEXTAUTH_URL\` â†’ ä½ çš„ Vercel åŸŸå
   - \`NEXTAUTH_SECRET\` â†’ å¼ºå¯†ç 
   - Supabase å’Œ OpenRouter é…ç½®

4. **éƒ¨ç½²**
   - ç‚¹å‡» "Deploy"
   - ç­‰å¾…æ„å»ºå®Œæˆ

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

- âœ… æ•æ„Ÿä¿¡æ¯å­˜å‚¨åœ¨ \`.env.local\`ï¼ˆå·²è¢« .gitignore å¿½ç•¥ï¼‰
- âœ… å¯†ç ä½¿ç”¨ bcrypt åŠ å¯†
- âœ… JWT Session éªŒè¯
- âœ… API è·¯ç”±æƒé™æ£€æŸ¥
- âš ï¸ ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨å¼ºå¯†ç å’Œ HTTPS

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (\`git checkout -b feature/AmazingFeature\`)
3. æäº¤æ›´æ”¹ (\`git commit -m 'Add some AmazingFeature'\`)
4. æ¨é€åˆ°åˆ†æ”¯ (\`git push origin feature/AmazingFeature\`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ“§ è”ç³»æ–¹å¼

- æäº¤ Issue: [GitHub Issues](https://github.com/ä½ çš„ç”¨æˆ·å/wukongmap/issues)
- è®¨è®º: [GitHub Discussions](https://github.com/ä½ çš„ç”¨æˆ·å/wukongmap/discussions)

---

Made with â¤ï¸ for Students | WukongMap Â© 2024

**æŠ€æœ¯æ”¯æŒ**: Next.js + Supabase + AI
